{
    "variable": [
        {
            "id": "baseUrl",
            "key": "baseUrl",
            "type": "string",
            "name": "string",
            "value": "http:\/\/localhost:8009"
        }
    ],
    "info": {
        "name": "Kargho-DOT API Documentation",
        "_postman_id": "04e9776d-fe2c-4d2b-b8e5-5a9329a3ba3f",
        "description": "",
        "schema": "https:\/\/schema.getpostman.com\/json\/collection\/v2.1.0\/collection.json"
    },
    "item": [
        {
            "name": "Authentication",
            "description": "",
            "item": [
                {
                    "name": "Login and get token",
                    "request": {
                        "url": {
                            "host": "{{baseUrl}}",
                            "path": "api\/login",
                            "query": [],
                            "raw": "{{baseUrl}}\/api\/login"
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept-Language",
                                "value": "en"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application\/json"
                            },
                            {
                                "key": "Accept",
                                "value": "application\/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\"email\":\"user@example.com\",\"password\":\"secret\"}"
                        },
                        "description": "Authenticate a user and return a Bearer token for API usage."
                    },
                    "response": [
                        {
                            "header": [],
                            "code": 200,
                            "body": "{\"token\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...\"}",
                            "name": ""
                        },
                        {
                            "header": [],
                            "code": 401,
                            "body": "{\"message\": \"Invalid credentials\"}",
                            "name": ""
                        }
                    ]
                },
                {
                    "name": "Logout (revoke token)",
                    "request": {
                        "url": {
                            "host": "{{baseUrl}}",
                            "path": "api\/logout",
                            "query": [],
                            "raw": "{{baseUrl}}\/api\/logout"
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept-Language",
                                "value": "en"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application\/json"
                            },
                            {
                                "key": "Accept",
                                "value": "application\/json"
                            }
                        ],
                        "body": null,
                        "description": "Revoke the current user's token. Requires authentication."
                    },
                    "response": [
                        {
                            "header": [],
                            "code": 200,
                            "body": "{\"message\": \"Logged out\"}",
                            "name": ""
                        }
                    ]
                }
            ]
        },
        {
            "name": "Endpoints",
            "description": "",
            "item": [
                {
                    "name": "List DOTs",
                    "request": {
                        "url": {
                            "host": "{{baseUrl}}",
                            "path": "api\/dots",
                            "query": [
                                {
                                    "key": "per_page",
                                    "value": "10",
                                    "description": "Number of results per page.",
                                    "disabled": false
                                },
                                {
                                    "key": "dot",
                                    "value": "123456",
                                    "description": "DOT number.",
                                    "disabled": false
                                },
                                {
                                    "key": "ein",
                                    "value": "12-3456789",
                                    "description": "EIN.",
                                    "disabled": false
                                },
                                {
                                    "key": "vin",
                                    "value": "1HGCM82633A004352",
                                    "description": "VIN.",
                                    "disabled": false
                                },
                                {
                                    "key": "license",
                                    "value": "ABC123",
                                    "description": "License.",
                                    "disabled": false
                                },
                                {
                                    "key": "mc",
                                    "value": "MC123456",
                                    "description": "MC.",
                                    "disabled": false
                                },
                                {
                                    "key": "company_name",
                                    "value": "Acme+Inc",
                                    "description": "Company Name.",
                                    "disabled": false
                                },
                                {
                                    "key": "company_owner",
                                    "value": "John+Doe",
                                    "description": "Company Owner.",
                                    "disabled": false
                                },
                                {
                                    "key": "dba",
                                    "value": "Acme+Logistics",
                                    "description": "DBA.",
                                    "disabled": false
                                },
                                {
                                    "key": "city",
                                    "value": "Miami",
                                    "description": "City.",
                                    "disabled": false
                                },
                                {
                                    "key": "state",
                                    "value": "FL",
                                    "description": "State.",
                                    "disabled": false
                                },
                                {
                                    "key": "inspections",
                                    "value": "Safety",
                                    "description": "Inspection type.",
                                    "disabled": false
                                }
                            ],
                            "raw": "{{baseUrl}}\/api\/dots?per_page=10&dot=123456&ein=12-3456789&vin=1HGCM82633A004352&license=ABC123&mc=MC123456&company_name=Acme+Inc&company_owner=John+Doe&dba=Acme+Logistics&city=Miami&state=FL&inspections=Safety"
                        },
                        "method": "GET",
                        "header": [
                            {
                                "key": "Accept-Language",
                                "value": "en"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application\/json"
                            },
                            {
                                "key": "Accept",
                                "value": "application\/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\"per_page\":73,\"dot\":11613.31890586,\"ein\":\"opfuudtdsufvyvddqamni\",\"vin\":\"ihfqcoynlazghdtqtqxba\",\"license\":\"jwbpilpmufinllwloauyd\",\"mc\":\"lsmsjuryvojcybzvrbyic\",\"company_name\":\"kznkygloigmkwxphlvazj\",\"company_owner\":\"rcnfbaqywuxhgjjmzuxju\",\"dba\":\"bqouzswiwxtrkimfcatbx\",\"city\":\"spzmrazsroyjpxmqesedy\",\"state\":\"ghenqcopwvownkbamlnfn\",\"inspections\":\"gefbeilfzsyuxoezbdtab\"}"
                        },
                        "description": "Get a paginated list of DOTs with filters."
                    },
                    "response": [
                        {
                            "header": [],
                            "code": 200,
                            "body": "{\"success\":true,\"message\":\"DOTs list retrieved successfully.\",\"data\":{}}",
                            "name": ""
                        }
                    ]
                },
                {
                    "name": "Show DOT detail",
                    "request": {
                        "url": {
                            "host": "{{baseUrl}}",
                            "path": "api\/dots\/:dotnumber",
                            "query": [],
                            "raw": "{{baseUrl}}\/api\/dots\/:dotnumber",
                            "variable": [
                                {
                                    "id": "dotnumber",
                                    "key": "dotnumber",
                                    "value": "123456",
                                    "description": "DOT number."
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [
                            {
                                "key": "Accept-Language",
                                "value": "en"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application\/json"
                            },
                            {
                                "key": "Accept",
                                "value": "application\/json"
                            }
                        ],
                        "body": null,
                        "description": "Get detail for a specific DOT number."
                    },
                    "response": [
                        {
                            "header": [],
                            "code": 200,
                            "body": "{\"success\":true,\"message\":\"DOT detail retrieved successfully.\",\"data\":{}}",
                            "name": ""
                        },
                        {
                            "header": [],
                            "code": 404,
                            "body": "{\"success\":false,\"message\":\"DOT not found.\",\"data\":null}",
                            "name": ""
                        }
                    ]
                },
                {
                    "name": "Trigger onboarding using a DOT number from FMCSA.",
                    "request": {
                        "url": {
                            "host": "{{baseUrl}}",
                            "path": "api\/kargho\/onboard-from-fmcsa\/:dotnumber",
                            "query": [],
                            "raw": "{{baseUrl}}\/api\/kargho\/onboard-from-fmcsa\/:dotnumber",
                            "variable": [
                                {
                                    "id": "dotnumber",
                                    "key": "dotnumber",
                                    "value": "123456",
                                    "description": "DOT number."
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept-Language",
                                "value": "en"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application\/json"
                            },
                            {
                                "key": "Accept",
                                "value": "application\/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\"dot\":\"vmqeopfuudtdsufvyvddq\",\"password\":\"123456\",\"idcountry\":1}"
                        },
                        "description": ""
                    },
                    "response": [
                        {
                            "header": [],
                            "code": 200,
                            "body": "{\"success\":true,\"message\":\"Onboarding executed successfully.\"}",
                            "name": ""
                        },
                        {
                            "header": [],
                            "code": 400,
                            "body": "{\"success\":false,\"message\":\"Validation error.\"}",
                            "name": ""
                        },
                        {
                            "header": [],
                            "code": 404,
                            "body": "{\"success\":false,\"message\":\"DOT not found in FMCSA.\"}",
                            "name": ""
                        }
                    ]
                }
            ]
        }
    ],
    "auth": {
        "type": "bearer",
        "bearer": [
            {
                "key": "Authorization",
                "type": "string"
            }
        ]
    }
}